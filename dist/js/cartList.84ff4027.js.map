{"version":3,"file":"js/cartList.84ff4027.js","mappings":"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","sources":["webpack://shengxian/./src/components/Docker.vue","webpack://shengxian/./src/components/Docker.vue?f302","webpack://shengxian/./src/views/cartList/CartList.vue","webpack://shengxian/./src/views/cartList/CartList.vue?ff89"],"sourcesContent":["<template>\r\n  <div class=\"docker\">\r\n    <div\r\n      v-for=\"(item, index) in dockerList\"\r\n      :key=\"item.icon\"\r\n      :class=\"{ docker__item: true, 'docker__item--active': index === currentIndex }\"\r\n    >\r\n      <router-link :to=\"item.to\">\r\n        <div class=\"iconfont\" v-html=\"item.icon\"></div>\r\n        <div class=\"docker__title\">{{ item.text }}</div>\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Docker\",\r\n  props:['currentIndex'],\r\n  setup() {\r\n    const dockerList = [\r\n      { icon: \"&#xe652;\", text: \"首页\",to:{name:'Home'}},\r\n      { icon: \"&#xe6af;\", text: \"购物车\",to:{name:'CartList'} },\r\n      { icon: \"&#xe613;\", text: \"订单\",to:{name:'OrderList'} },\r\n      { icon: \"&#xe78b;\", text: \"我的\",to:{name:'PersonalInfo'} },\r\n    ];\r\n    return { dockerList };\r\n  },\r\n};\r\n</script> \r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../style/viriables.scss\";\r\n.wrapper {\r\n  background: #000;\r\n}\r\n.docker {\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  padding: 0 0.18rem;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 0.49rem;\r\n  border-top: 0.01rem solid $content-bgColor;\r\n  &__item {\r\n    flex: 1;\r\n    text-align: center;\r\n    a{\r\n      color: $content-fontcolor;\r\n      text-decoration: none;\r\n    }\r\n    .iconfont {\r\n      margin: 0.07rem 0 0.02rem;\r\n      font-size: 0.18rem;\r\n    }\r\n    &--active {\r\n      a{\r\n        color: #1fa4fc;\r\n      }\r\n    }\r\n  }\r\n  &__title {\r\n    font-size: 0.2rem;\r\n    transform: scale(0.5, 0.5);\r\n    transform-origin: center top;\r\n  }\r\n}\r\n</style>","import { render } from \"./Docker.vue?vue&type=template&id=7d249e67&scoped=true\"\nimport script from \"./Docker.vue?vue&type=script&lang=js\"\nexport * from \"./Docker.vue?vue&type=script&lang=js\"\n\nimport \"./Docker.vue?vue&type=style&index=0&id=7d249e67&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d249e67\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">我的全部购物车</div>\r\n    <div class=\"shops\">\r\n      <div class=\"empty\" v-if=\"Object.keys(cartListWithProducts).length === 0\">\r\n        购物车当前为空\r\n      </div>\r\n      <div\r\n        class=\"shop\"\r\n        v-for=\"(item, index) in cartListWithProducts\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"shop__title\">\r\n          {{ item.shopName }}\r\n        </div>\r\n        <div class=\"products\">\r\n          <div class=\"products__list\">\r\n            <template v-for=\"product in item.productList\" :key=\"product._id\">\r\n              <div v-if=\"product.count > 0\" class=\"products__item\">\r\n                <img class=\"products__item__img\" :src=\"product.imgUrl\" />\r\n                <div class=\"products__item__detail\">\r\n                  <h4 class=\"products__item__title\">{{ product.name }}</h4>\r\n                  <p class=\"products__item__price\">\r\n                    <span>\r\n                      <span class=\"products__item__yen\">&yen; </span>\r\n                      {{ product.price }} x {{ product.count }}\r\n                    </span>\r\n                    <span class=\"products__item__total\">\r\n                      <span class=\"products__item__yen\">&yen; </span>\r\n                      {{ (product.price * product.count).toFixed(2) }}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Docker :currentIndex=\"1\" />\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport Docker from \"../../components/Docker\";\r\n\r\nconst useCartEffect = () => {\r\n  const store = useStore();\r\n  const cartList = store.state.cartList;\r\n\r\n  const cartListWithProducts = computed(() => {\r\n    const newCartList = {};\r\n    for (let shopId in cartList) {\r\n      let total = 0;\r\n      const products = cartList[shopId].productList;\r\n      for (let productId in products) {\r\n        const product = products[productId];\r\n        total += product.count || 0;\r\n      }\r\n      if (total > 0) {\r\n        newCartList[shopId] = cartList[shopId];\r\n      }\r\n    }\r\n    return newCartList;\r\n  });\r\n\r\n  return { cartListWithProducts };\r\n};\r\nexport default {\r\n  name: \"CartList\",\r\n  components: { Docker },\r\n  setup() {\r\n    const { cartListWithProducts } = useCartEffect();\r\n    return { cartListWithProducts };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n@import \"../../style/mixins.scss\";\r\n.wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0.5rem;\r\n  right: 0;\r\n  background: $dark-bgColor;\r\n}\r\n.title {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 1;\r\n  line-height: 0.44rem;\r\n  background: $bgColor;\r\n  font-size: 0.16rem;\r\n  color: $content-fontcolor;\r\n  text-align: center;\r\n}\r\n.empty {\r\n  line-height: 0.44rem;\r\n  color: $light-fontColor;\r\n  font-size: 0.16rem;\r\n  text-align: center;\r\n}\r\n.shops {\r\n  overflow-y: scroll;\r\n  position: absolute;\r\n  top: 0.6rem;\r\n  right: 0.18rem;\r\n  bottom: 0.1rem;\r\n  left: 0.18rem;\r\n  background: $bgColor;\r\n}\r\n.shop {\r\n  &__title {\r\n    padding: 0.16rem;\r\n    font-size: 0.16rem;\r\n    color: $content-fontcolor;\r\n  }\r\n  &__wrapper {\r\n    overflow-y: scroll;\r\n    margin: 0 0.18rem;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0.6rem;\r\n    top: 2.6rem;\r\n  }\r\n}\r\n.products {\r\n  &__list {\r\n    background: $bgColor;\r\n  }\r\n  &__item {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 0 0.16rem 0.16rem 0.16rem;\r\n    &__img {\r\n      width: 0.46rem;\r\n      height: 0.46rem;\r\n      margin-right: 0.16rem;\r\n    }\r\n    &__detail {\r\n      flex: 1;\r\n    }\r\n    &__title {\r\n      margin: 0;\r\n      line-height: 0.2rem;\r\n      font-size: 0.14rem;\r\n      color: $content-fontcolor;\r\n      @include ellipsis;\r\n    }\r\n    &__price {\r\n      display: flex;\r\n      margin: 0.06rem 0 0 0;\r\n      line-height: 0.2rem;\r\n      font-size: 0.14rem;\r\n      color: $hightlight-fontColor;\r\n    }\r\n    &__total {\r\n      flex: 1;\r\n      text-align: right;\r\n      color: $dark-fontColor;\r\n    }\r\n    &__yen {\r\n      font-size: 0.12rem;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./CartList.vue?vue&type=template&id=eec2e726&scoped=true\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport \"./CartList.vue?vue&type=style&index=0&id=eec2e726&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eec2e726\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$setup","dockerList","item","index","key","icon","_normalizeClass","docker__item","$props","currentIndex","_createVNode","_component_router_link","to","_createElementVNode","innerHTML","_hoisted_3","_toDisplayString","text","name","props","setup","__exports__","render","_hoisted_2","Object","keys","cartListWithProducts","length","_hoisted_4","_hoisted_5","shopName","_hoisted_6","_hoisted_7","productList","product","_id","count","_hoisted_8","src","imgUrl","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","price","_hoisted_14","_hoisted_15","toFixed","_component_Docker","useCartEffect","store","useStore","cartList","state","computed","newCartList","shopId","total","products","productId","components","Docker"],"sourceRoot":""}