{"version":3,"file":"js/login_123123.097754a1.js","mappings":"yMACSA,MAAM,S,0CAAXC,EAAAA,EAAAA,IAEM,MAFNC,GAEMC,EAAAA,EAAAA,IADAC,EAAAC,SAAO,E,eAMjB,GACIC,MAAM,CAAC,YAEJ,MAAMC,EAAeA,KAC1B,MAAMC,GAAUC,EAAAA,EAAAA,IAAS,CACrBC,MAAM,EACNC,aAAc,KAEVC,EAAaP,IACjBG,EAAUE,MAAO,EACjBF,EAAUG,aAAeN,EACzBQ,YAAW,KACTL,EAAUE,MAAO,EACjBF,EAAUG,aAAe,EAAE,GAC1B,IAAK,GAEJ,KAACD,EAAI,aAACC,IAAcG,EAAAA,EAAAA,IAAON,GACjC,MAAO,CAACE,OAAKC,eAAaC,YAAU,E,YClBxC,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,2JCROhB,MAAM,W,UACTiB,EAAAA,EAAAA,GAIE,OAHAjB,MAAM,eACNkB,IAAI,6CACJC,IAAI,I,cAEDnB,MAAM,kB,GAONA,MAAM,kB,oEAbbC,EAAAA,EAAAA,IAyBM,MAzBNC,EAyBM,CAxBJkB,GAKAH,EAAAA,EAAAA,GAMM,MANNI,EAMM,WALJJ,EAAAA,EAAAA,GAIE,SAHAjB,MAAM,0BACNsB,YAAY,M,qCACHC,EAAAC,SAAQC,I,iBAARF,EAAAC,eAGbP,EAAAA,EAAAA,GAQM,MARNS,EAQM,WAPJT,EAAAA,EAAAA,GAME,SALAU,KAAK,WACL3B,MAAM,0BACNsB,YAAY,Q,qCACHC,EAAAK,SAAQH,GACjBI,aAAa,gB,iBADJN,EAAAK,eAIbX,EAAAA,EAAAA,GAAgE,OAA3DjB,MAAM,wBAAyB8B,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAET,EAAAU,aAAAV,EAAAU,eAAAD,KAAa,OACxDf,EAAAA,EAAAA,GAAwE,OAAnEjB,MAAM,sBAAuB8B,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAET,EAAAW,qBAAAX,EAAAW,uBAAAF,KAAqB,QACjDT,EAAAb,OAAI,WAAjByB,EAAAA,EAAAA,IAA6CC,EAAA,C,MAAzB/B,QAASkB,EAAAZ,c,yFASjC,MAAM0B,EAAkBzB,IACtB,MAAM0B,GAASC,EAAAA,EAAAA,MACTC,GAAO/B,EAAAA,EAAAA,IAAS,CAAEe,SAAU,GAAII,SAAU,KAC1CK,EAAcQ,UAClB,IACE,MAAM,SAAEjB,EAAQ,SAAEI,GAAaY,EAC/B,GAAiB,KAAbhB,GAAgC,KAAbI,EACrB,OAAOhB,EAAU,YAEnB,MAAM8B,QAAeC,EAAAA,EAAAA,IAAK,kBAAmB,CAC3CnB,SAAUgB,EAAKhB,SACfI,SAAUY,EAAKZ,WAGK,IAAlBc,GAAQE,OACVC,aAAaC,SAAU,EACvBR,EAAOS,KAAK,CAAEC,KAAM,UAEpBpC,EAAU,OAEd,CAAE,MAAOqC,GACPrC,EAAU,OACZ,IAEI,SAAEY,EAAQ,SAAEI,IAAad,EAAAA,EAAAA,IAAO0B,GACtC,MAAO,CAAEhB,WAAUI,WAAUK,cAAa,EAGtCiB,EAAoBA,KACxB,MAAMZ,GAASC,EAAAA,EAAAA,MACTL,EAAsBA,KAC1BI,EAAOS,KAAK,CAAEC,KAAM,YAAa,EAEnC,MAAO,CAAEd,sBAAqB,EAEhC,OACEc,KAAM,QACNG,WAAY,CAAEC,MAAKA,EAAAA,GAEnBC,QACE,MAAM,KAAE3C,EAAI,aAAEC,EAAY,UAAEC,IAAcL,EAAAA,EAAAA,MACpC,SAAEiB,EAAQ,SAAEI,EAAQ,YAAEK,GAAgBI,EAAezB,IACrD,oBAAEsB,GAAwBgB,IAChC,MAAO,CACLjB,cACAC,sBACAV,WACAI,WACAlB,OACAC,eAEJ,G,QC9EF,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://shengxian/./src/components/Toast.vue","webpack://shengxian/./src/components/Toast.vue?44c7","webpack://shengxian/./src/views/login/Login.vue","webpack://shengxian/./src/views/login/Login.vue?9557"],"sourcesContent":["<template>\r\n    <div class=\"toast\">\r\n        {{message}}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {reactive,toRefs} from 'vue'\r\nexport default{\r\n    props:['message']\r\n}\r\nexport const useToastEffect=()=>{\r\n  const toastData=reactive({\r\n      show: false,\r\n      toastMessage: \"\",\r\n    });\r\n    const showToast = (message) => {\r\n      toastData.show = true;\r\n      toastData.toastMessage = message;\r\n      setTimeout(() => {\r\n        toastData.show = false;\r\n        toastData.toastMessage = \"\";\r\n      }, 2000);\r\n    };\r\n    const {show,toastMessage}=toRefs(toastData)\r\n    return {show,toastMessage,showToast}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\"  scoped>\r\n@import '../style/viriables.scss';\r\n.toast{\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 50%;\r\n    padding: .1rem;\r\n    transform: translate(-50%,-50%);\r\n    background: rgba(0,0,0,.35);\r\n    border-radius: .05rem;\r\n    color: $bgColor;\r\n}\r\n</style>","import { render } from \"./Toast.vue?vue&type=template&id=57f1308a&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=57f1308a&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57f1308a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      class=\"wrapper__img\"\r\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\r\n      alt=\"\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"用户名\"\r\n        v-model=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        type=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__login-button\" @click=\"handleLogin\">登录</div>\r\n    <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">立即注册</div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { post } from \"../../utils/request\";\r\nimport Toast, { useToastEffect } from \"../../components/Toast.vue\";\r\n//处理登录逻辑\r\nconst useLoginEffect = (showToast) => {\r\n  const router = useRouter(); //获取到路由实例\r\n  const data = reactive({ username: \"\", password: \"\" });\r\n  const handleLogin = async () => {\r\n    try {\r\n      const { username, password } = data;\r\n      if (username === \"\" || password === \"\") {\r\n        return showToast(\"请填写用户名密码\");\r\n      }\r\n      const result = await post(\"/api/user/login\", {\r\n        username: data.username,\r\n        password: data.password,\r\n      });\r\n      // console.log(result);\r\n      if (result?.errno === 0) {\r\n        localStorage.isLogin = true;\r\n        router.push({ name: \"Home\" });\r\n      } else {\r\n        showToast(\"登录失败\");\r\n      }\r\n    } catch (e) {\r\n      showToast(\"请求失败\");\r\n    }\r\n  };\r\n  const { username, password } = toRefs(data);\r\n  return { username, password, handleLogin };\r\n};\r\n// 处理注册跳转\r\nconst useRegisterEffect = () => {\r\n  const router = useRouter(); //获取到路由实例\r\n  const handleRegisterClick = () => {\r\n    router.push({ name: \"Register\" });\r\n  };\r\n  return { handleRegisterClick };\r\n};\r\nexport default {\r\n  name: \"Login\",\r\n  components: { Toast },\r\n  //职责就是告诉你，代码执行的一个流程\r\n  setup() {\r\n    const { show, toastMessage, showToast } = useToastEffect();\r\n    const { username, password, handleLogin } = useLoginEffect(showToast);\r\n    const { handleRegisterClick } = useRegisterEffect();\r\n    return {\r\n      handleLogin,\r\n      handleRegisterClick,\r\n      username,\r\n      password,\r\n      show,\r\n      toastMessage,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto 0.4rem auto;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n  }\r\n  &__input {\r\n    height: 0.48rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    padding: 0 0.16rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    &__content {\r\n      margin-top: .12rem;\r\n      line-height: .22rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: 0.16rem;\r\n      color: $content-notice-fontcolor;\r\n      &::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    line-height: 0.48rem;\r\n    background: $btn-bgColor;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    color: $bgColor;\r\n    font-size: 0.16rem;\r\n    text-align: center;\r\n  }\r\n  &__login-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=37d31e48&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=37d31e48&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37d31e48\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRefs","__exports__","render","_createElementVNode","src","alt","_hoisted_2","_hoisted_3","placeholder","$setup","username","$event","_hoisted_4","type","password","autocomplete","onClick","_cache","args","handleLogin","handleRegisterClick","_createBlock","_component_Toast","useLoginEffect","router","useRouter","data","async","result","post","errno","localStorage","isLogin","push","name","e","useRegisterEffect","components","Toast","setup"],"sourceRoot":""}