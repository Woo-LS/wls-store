{"version":3,"file":"js/myAddressList.b6ea539e.js","mappings":"qIAGA,MAAMA,EAAyBA,KAC7B,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,EAAiBC,UACrB,MAAMC,EAAcJ,EAAMK,MAAMD,YAChC,GAAGE,IAAgBF,EAAYG,OAAQ,CACrC,MAAMC,QAAeC,EAAAA,EAAAA,IAAI,qBACtBD,GAAQE,MAAMH,QACfP,EAAMW,OAAO,oBAAqBH,EAAOE,KAE7C,GAGF,MAAO,CAAER,iBAAgB,EAG3B,Q,8IClBSU,MAAM,W,GACNA,MAAM,iB,GACJA,MAAM,uB,GACNA,MAAM,wB,GAERA,MAAM,mB,UAGXC,EAAAA,EAAAA,GAAkD,OAA7CD,MAAM,0BAAyB,KAAQ,K,0CAR5CE,EAAAA,EAAAA,IASI,MATJC,EASI,EARJF,EAAAA,EAAAA,GAGM,MAHNG,EAGM,EAFJH,EAAAA,EAAAA,GAAuD,MAAvDI,GAAuDC,EAAAA,EAAAA,IAApBC,EAAAC,QAAQC,MAAI,IAC/CR,EAAAA,EAAAA,GAAyD,MAAzDS,GAAyDJ,EAAAA,EAAAA,IAArBC,EAAAC,QAAQG,OAAK,MAEnDV,EAAAA,EAAAA,GAEM,MAFNW,GAEMN,EAAAA,EAAAA,IADFC,EAAAC,QAAQK,OAAIP,EAAAA,EAAAA,IAAIC,EAAAC,QAAQM,aAAUR,EAAAA,EAAAA,IAAIC,EAAAC,QAAQO,aAAW,GAE7DC,G,CAKJ,OACEP,KAAM,UACNQ,MAAO,CAAC,Y,QCTV,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,iJCROnB,MAAM,W,GACJA,MAAM,S,UAETC,EAAAA,EAAAA,GAAqC,OAAhCD,MAAM,eAAc,UAAM,K,sEAHnCE,EAAAA,EAAAA,IAYM,MAZNC,EAYM,EAXJF,EAAAA,EAAAA,GAIM,MAJNG,EAIM,EAHJH,EAAAA,EAAAA,GAAyE,OAApED,MAAM,uBAAwBoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,iBAAAD,EAAAC,mBAAAF,KAAiB,KAC3DjB,GACAJ,EAAAA,EAAAA,GAAwD,OAAnDD,MAAM,aAAcoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAE,gBAAAF,EAAAE,kBAAAH,KAAgB,UAAE,aAEpDpB,EAAAA,EAAAA,IAKEwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJkBJ,EAAA/B,aAAXgB,K,WADToB,EAAAA,EAAAA,IAKEC,EAAA,CAHCC,IAAKtB,EAAQuB,IACbvB,QAASA,EACTY,QAAKA,IAAQG,EAAAS,kBAAkBxB,EAAQuB,M,qGAa9C,GACEtB,KAAM,gBACNwB,WAAY,CAAEC,QAAOA,EAAAA,GACrBC,QACE,MAAM/C,GAAQC,EAAAA,EAAAA,MACR+C,GAASC,EAAAA,EAAAA,OACT,YAAE7C,IAAgB8C,EAAAA,EAAAA,IAAOlD,EAAMK,QAC/B,eAAEH,IAAmBH,EAAAA,EAAAA,KAC3BG,GAAe,GACf,MAAMkC,EAAkBA,KACtBY,EAAOG,MAAM,EAETd,EAAiBA,KACrBW,EAAOI,KAAK,CAAE/B,KAAM,iBAAkB,EAElCuB,EAAqBS,IACzBL,EAAOI,KAAM,kBAAiBC,IAAY,EAE5C,MAAO,CAAEjD,cAAagC,kBAAiBC,iBAAgBO,oBACzD,G,QCpCF,MAAMd,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://shengxian/./src/effects/addressEffect.js","webpack://shengxian/./src/components/Address.vue","webpack://shengxian/./src/components/Address.vue?57ca","webpack://shengxian/./src/views/myAddressList/MyAddressList.vue","webpack://shengxian/./src/views/myAddressList/MyAddressList.vue?7b13"],"sourcesContent":["import { useStore } from 'vuex'\r\nimport { get } from '../utils/request'\r\n\r\nconst useCommonAddressEffect = () => {\r\n  const store = useStore()\r\n\r\n  const getAddressList = async (forceUpdate) => {\r\n    const addressList = store.state.addressList;\r\n    if(forceUpdate || !addressList.length) {\r\n      const result = await get('/api/user/address')\r\n      if(result?.data?.length) {\r\n        store.commit('changeAddressList', result.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  return { getAddressList }\r\n}\r\n\r\nexport default useCommonAddressEffect","<template>\r\n    <div class=\"address\">\r\n    <div class=\"address__info\">\r\n      <div class=\"address__info__user\">{{address.name}}</div>\r\n      <div class=\"address__info__phone\">{{address.phone}}</div>\r\n    </div>\r\n    <div class=\"address__detail\">\r\n      {{address.city}}{{address.department}}{{address.houseNumber}}\r\n    </div>\r\n    <div class=\"iconfont address__icon\">&#xe6db;</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Address',\r\n  props: ['address']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n.address {\r\n  position: relative;\r\n  margin: .16rem .18rem 0 .18rem;\r\n  padding: .18rem .64rem .18rem .16rem;\r\n  background: #FFF;\r\n  border-radius: .04rem;\r\n  &__info {\r\n    display: flex;\r\n    line-height: .2rem;\r\n    font-size: .14rem;\r\n    color: $light-fontColor;\r\n    &__user {\r\n      width: .94rem;\r\n    }\r\n    &__phone {\r\n      flex: 1;\r\n    }\r\n  }\r\n  &__detail {\r\n    margin-top: .08rem;\r\n    line-height: .2rem;\r\n    font-size: .14rem;\r\n    color: $content-fontcolor;\r\n  }\r\n  &__icon {\r\n    position: absolute;\r\n    right: .2rem;\r\n    top: .4rem;\r\n    transform: rotate(180deg);\r\n    font-size: .2rem;\r\n    color: $light-fontColor;\r\n  }\r\n}\r\n</style>","import { render } from \"./Address.vue?vue&type=template&id=47adc836&scoped=true\"\nimport script from \"./Address.vue?vue&type=script&lang=js\"\nexport * from \"./Address.vue?vue&type=script&lang=js\"\n\nimport \"./Address.vue?vue&type=style&index=0&id=47adc836&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47adc836\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">\r\n      <div class=\"iconfont title__back\" @click=\"handleBackClick\">&#xe6db;</div>\r\n      <div class=\"title__text\">管理收货地址</div>\r\n      <div class=\"title__add\" @click=\"handleAddClick\">新建</div>\r\n    </div>\r\n    <Address\r\n      v-for=\"address in addressList\"\r\n      :key=\"address._id\"\r\n      :address=\"address\"\r\n      @click=\"() => handleUpdateClick(address._id)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Address from \"../../components/Address\";\r\nimport useCommonAddressEffect from \"../../effects/addressEffect\";\r\n\r\nimport { toRefs } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"MyAddressList\",\r\n  components: { Address },\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const { addressList } = toRefs(store.state);\r\n    const { getAddressList } = useCommonAddressEffect();\r\n    getAddressList(true);\r\n    const handleBackClick = () => {\r\n      router.back();\r\n    };\r\n    const handleAddClick = () => {\r\n      router.push({ name: \"UpsertAddress\" });\r\n    };\r\n    const handleUpdateClick = (addressId) => {\r\n      router.push(`/upsertAddress/${addressId}`);\r\n    };\r\n    return { addressList, handleBackClick, handleAddClick, handleUpdateClick };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n.wrapper {\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: $dark-bgColor;\r\n}\r\n.title {\r\n  display: flex;\r\n  line-height: 0.44rem;\r\n  background: $bgColor;\r\n  font-size: 0.16rem;\r\n  color: $content-fontcolor;\r\n  text-align: center;\r\n  &__back {\r\n    width: 0.2rem;\r\n    margin-left: 0.18rem;\r\n    font-size: 0.2rem;\r\n    color: #b6b6b6;\r\n  }\r\n  &__text {\r\n    flex: 1;\r\n    text-align: center;\r\n  }\r\n  &__add {\r\n    margin-right: 0.2rem;\r\n    font-size: 0.14rem;\r\n  }\r\n}\r\n</style>","import { render } from \"./MyAddressList.vue?vue&type=template&id=aecf30fc&scoped=true\"\nimport script from \"./MyAddressList.vue?vue&type=script&lang=js\"\nexport * from \"./MyAddressList.vue?vue&type=script&lang=js\"\n\nimport \"./MyAddressList.vue?vue&type=style&index=0&id=aecf30fc&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aecf30fc\"]])\n\nexport default __exports__"],"names":["useCommonAddressEffect","store","useStore","getAddressList","async","addressList","state","forceUpdate","length","result","get","data","commit","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$props","address","name","_hoisted_4","phone","_hoisted_5","city","department","houseNumber","_hoisted_6","props","__exports__","render","onClick","_cache","args","$setup","handleBackClick","handleAddClick","_Fragment","_renderList","_createBlock","_component_Address","key","_id","handleUpdateClick","components","Address","setup","router","useRouter","toRefs","back","push","addressId"],"sourceRoot":""}