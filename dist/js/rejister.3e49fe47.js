"use strict";(self["webpackChunkshengxian"]=self["webpackChunkshengxian"]||[]).push([[258],{1929:function(e,s,n){n.d(s,{Z:function(){return d},S:function(){return l}});var a=n(3396),r=n(7139);const t={class:"toast"};function o(e,s,n,o,u,p){return(0,a.wg)(),(0,a.iD)("div",t,(0,r.zw)(n.message),1)}var u=n(4870),p={props:["message"]};const l=()=>{const e=(0,u.qj)({show:!1,toastMessage:""}),s=s=>{e.show=!0,e.toastMessage=s,setTimeout((()=>{e.show=!1,e.toastMessage=""}),2e3)},{show:n,toastMessage:a}=(0,u.BK)(e);return{show:n,toastMessage:a,showToast:s}};var i=n(89);const c=(0,i.Z)(p,[["render",o],["__scopeId","data-v-57f1308a"]]);var d=c},8174:function(e,s,n){n.r(s),n.d(s,{default:function(){return C}});var a=n(3396),r=n(9242);const t=e=>((0,a.dD)("data-v-fe24e258"),e=e(),(0,a.Cn)(),e),o={class:"wrapper"},u=t((()=>(0,a._)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:""},null,-1))),p={class:"wrapper__input"},l={class:"wrapper__input"},i={class:"wrapper__input"};function c(e,s,n,t,c,d){const w=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",o,[u,(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":s[0]||(s[0]=e=>t.username=e)},null,512),[[r.nr,t.username]])]),(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"password",class:"wrapper__input__content",placeholder:"请输入密码",autocomplete:"new-password","onUpdate:modelValue":s[1]||(s[1]=e=>t.password=e)},null,512),[[r.nr,t.password]])]),(0,a._)("div",i,[(0,a.wy)((0,a._)("input",{type:"password",class:"wrapper__input__content",placeholder:"确认密码","onUpdate:modelValue":s[2]||(s[2]=e=>t.ensurement=e)},null,512),[[r.nr,t.ensurement]])]),(0,a._)("div",{class:"wrapper__register-button",onClick:s[3]||(s[3]=(...e)=>t.handleRegister&&t.handleRegister(...e))},"注册"),(0,a._)("div",{class:"wrapper__register-link",onClick:s[4]||(s[4]=(...e)=>t.handleLoginClick&&t.handleLoginClick(...e))}," 已有账号去登陆 "),t.show?((0,a.wg)(),(0,a.j4)(w,{key:0,message:t.toastMessage},null,8,["message"])):(0,a.kq)("",!0)])}n(7658);var d=n(2483),w=n(4870),g=n(60),_=n(1929);const m=e=>{const s=(0,d.tv)(),n=(0,w.qj)({username:"",password:"",ensurement:""}),a=async()=>{try{const{username:a,password:r,ensurement:t}=n;if(""===a||""===r||""===t)return e("请填写用户名密码");if(r!==t)return e("请输入相同的密码");const o=await(0,g.v_)("/api/user/register",{username:n.username,password:n.password});console.log(o),0===o?.errno?s.push({name:"Login"}):e("注册失败")}catch(a){e("请求失败")}},{username:r,password:t,ensurement:o}=(0,w.BK)(n);return{username:r,password:t,ensurement:o,handleRegister:a}},h=()=>{const e=(0,d.tv)(),s=()=>{e.push({name:"Login"})};return{handleLoginClick:s}};var v={name:"Register",components:{Toast:_.Z},setup(){const{show:e,toastMessage:s,showToast:n}=(0,_.S)(),{username:a,password:r,ensurement:t,handleRegister:o}=m(n),{handleLoginClick:u}=h();return{username:a,password:r,ensurement:t,show:e,toastMessage:s,handleRegister:o,handleLoginClick:u}}},f=n(89);const k=(0,f.Z)(v,[["render",c],["__scopeId","data-v-fe24e258"]]);var C=k}}]);
//# sourceMappingURL=rejister.3e49fe47.js.map