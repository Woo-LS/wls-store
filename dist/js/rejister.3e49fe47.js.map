{"version":3,"file":"js/rejister.3e49fe47.js","mappings":"yMACSA,MAAM,S,0CAAXC,EAAAA,EAAAA,IAEM,MAFNC,GAEMC,EAAAA,EAAAA,IADAC,EAAAC,SAAO,E,eAMjB,GACIC,MAAM,CAAC,YAEJ,MAAMC,EAAeA,KAC1B,MAAMC,GAAUC,EAAAA,EAAAA,IAAS,CACrBC,MAAM,EACNC,aAAc,KAEVC,EAAaP,IACjBG,EAAUE,MAAO,EACjBF,EAAUG,aAAeN,EACzBQ,YAAW,KACTL,EAAUE,MAAO,EACjBF,EAAUG,aAAe,EAAE,GAC1B,IAAK,GAEJ,KAACD,EAAI,aAACC,IAAcG,EAAAA,EAAAA,IAAON,GACjC,MAAO,CAACE,OAAKC,eAAaC,YAAU,E,YClBxC,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,2JCROhB,MAAM,W,UACTiB,EAAAA,EAAAA,GAIE,OAHAjB,MAAM,eACNkB,IAAI,6CACJC,IAAI,I,cAEDnB,MAAM,kB,GAONA,MAAM,kB,GASNA,MAAM,kB,oEAtBbC,EAAAA,EAAAA,IAmCM,MAnCNC,EAmCM,CAlCJkB,GAKAH,EAAAA,EAAAA,GAMM,MANNI,EAMM,WALJJ,EAAAA,EAAAA,GAIE,SAHAjB,MAAM,0BACNsB,YAAY,S,qCACHC,EAAAC,SAAQC,I,iBAARF,EAAAC,eAGbP,EAAAA,EAAAA,GAQM,MARNS,EAQM,WAPJT,EAAAA,EAAAA,GAME,SALAU,KAAK,WACL3B,MAAM,0BACNsB,YAAY,QACZM,aAAa,e,qCACJL,EAAAM,SAAQJ,I,iBAARF,EAAAM,eAGbZ,EAAAA,EAAAA,GAOM,MAPNa,EAOM,WANJb,EAAAA,EAAAA,GAKE,SAJAU,KAAK,WACL3B,MAAM,0BACNsB,YAAY,O,qCACHC,EAAAQ,WAAUN,I,iBAAVF,EAAAQ,iBAGbd,EAAAA,EAAAA,GAAsE,OAAjEjB,MAAM,2BAA4BgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEX,EAAAY,gBAAAZ,EAAAY,kBAAAD,KAAgB,OAC9DjB,EAAAA,EAAAA,GAEM,OAFDjB,MAAM,yBAA0BgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEX,EAAAa,kBAAAb,EAAAa,oBAAAF,KAAkB,aAGjDX,EAAAb,OAAI,WAAjB2B,EAAAA,EAAAA,IAA6CC,EAAA,C,MAAzBjC,QAASkB,EAAAZ,c,yFAUjC,MAAM4B,EAAqB3B,IACzB,MAAM4B,GAASC,EAAAA,EAAAA,MACTC,GAAOjC,EAAAA,EAAAA,IAAS,CACpBe,SAAU,GACVK,SAAU,GACVE,WAAY,KAERI,EAAiBQ,UACrB,IACE,MAAM,SAAEnB,EAAQ,SAAEK,EAAQ,WAAEE,GAAeW,EAC3C,GAAiB,KAAblB,GAAgC,KAAbK,GAAkC,KAAfE,EACxC,OAAOnB,EAAU,YAEnB,GAAIiB,IAAaE,EACf,OAAOnB,EAAU,YAEnB,MAAMgC,QAAeC,EAAAA,EAAAA,IAAK,qBAAsB,CAC9CrB,SAAUkB,EAAKlB,SACfK,SAAUa,EAAKb,WAEjBiB,QAAQC,IAAIH,GACU,IAAlBA,GAAQI,MACVR,EAAOS,KAAK,CAAEC,KAAM,UAEpBtC,EAAU,OAEd,CAAE,MAAOuC,GACPvC,EAAU,OACZ,IAEI,SAAEY,EAAQ,SAAEK,EAAQ,WAAEE,IAAejB,EAAAA,EAAAA,IAAO4B,GAClD,MAAO,CAAElB,WAAUK,WAAUE,aAAYI,iBAAgB,EAGrDiB,EAAiBA,KACrB,MAAMZ,GAASC,EAAAA,EAAAA,MACTL,EAAmBA,KACvBI,EAAOS,KAAK,CAAEC,KAAM,SAAU,EAEhC,MAAO,CAAEd,mBAAkB,EAE7B,OACEc,KAAM,WACNG,WAAY,CAAEC,MAAKA,EAAAA,GACnBC,QACE,MAAM,KAAE7C,EAAI,aAAEC,EAAY,UAAEC,IAAcL,EAAAA,EAAAA,MACpC,SAAEiB,EAAQ,SAAEK,EAAQ,WAAEE,EAAU,eAAEI,GACtCI,EAAkB3B,IACd,iBAAEwB,GAAqBgB,IAC7B,MAAO,CACL5B,WACAK,WACAE,aACArB,OACAC,eACAwB,iBACAC,mBAEJ,G,QChGF,MAAMrB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://shengxian/./src/components/Toast.vue","webpack://shengxian/./src/components/Toast.vue?44c7","webpack://shengxian/./src/views/register/Register.vue","webpack://shengxian/./src/views/register/Register.vue?6e35"],"sourcesContent":["<template>\r\n    <div class=\"toast\">\r\n        {{message}}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {reactive,toRefs} from 'vue'\r\nexport default{\r\n    props:['message']\r\n}\r\nexport const useToastEffect=()=>{\r\n  const toastData=reactive({\r\n      show: false,\r\n      toastMessage: \"\",\r\n    });\r\n    const showToast = (message) => {\r\n      toastData.show = true;\r\n      toastData.toastMessage = message;\r\n      setTimeout(() => {\r\n        toastData.show = false;\r\n        toastData.toastMessage = \"\";\r\n      }, 2000);\r\n    };\r\n    const {show,toastMessage}=toRefs(toastData)\r\n    return {show,toastMessage,showToast}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\"  scoped>\r\n@import '../style/viriables.scss';\r\n.toast{\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 50%;\r\n    padding: .1rem;\r\n    transform: translate(-50%,-50%);\r\n    background: rgba(0,0,0,.35);\r\n    border-radius: .05rem;\r\n    color: $bgColor;\r\n}\r\n</style>","import { render } from \"./Toast.vue?vue&type=template&id=57f1308a&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=57f1308a&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57f1308a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      class=\"wrapper__img\"\r\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\r\n      alt=\"\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        type=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        autocomplete=\"new-password\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        type=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"确认密码\"\r\n        v-model=\"ensurement\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">\r\n      已有账号去登陆\r\n    </div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { post } from \"../../utils/request\";\r\nimport Toast, { useToastEffect } from \"../../components/Toast.vue\";\r\n\r\n//处理注册相关逻辑\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter(); //获取到路由实例\r\n  const data = reactive({\r\n    username: \"\",\r\n    password: \"\",\r\n    ensurement: \"\",\r\n  });\r\n  const handleRegister = async () => {\r\n    try {\r\n      const { username, password, ensurement } = data;\r\n      if (username === \"\" || password === \"\" || ensurement === \"\") {\r\n        return showToast(\"请填写用户名密码\");\r\n      }\r\n      if (password !== ensurement) {\r\n        return showToast(\"请输入相同的密码\");\r\n      }\r\n      const result = await post(\"/api/user/register\", {\r\n        username: data.username,\r\n        password: data.password,\r\n      });\r\n      console.log(result);\r\n      if (result?.errno === 0) {\r\n        router.push({ name: \"Login\" });\r\n      } else {\r\n        showToast(\"注册失败\");\r\n      }\r\n    } catch (e) {\r\n      showToast(\"请求失败\");\r\n    }\r\n  };\r\n  const { username, password, ensurement } = toRefs(data);\r\n  return { username, password, ensurement, handleRegister };\r\n};\r\n//处理登录跳转\r\nconst useLoginEffect = () => {\r\n  const router = useRouter(); //获取到路由实例\r\n  const handleLoginClick = () => {\r\n    router.push({ name: \"Login\" });\r\n  };\r\n  return { handleLoginClick };\r\n};\r\nexport default {\r\n  name: \"Register\",\r\n  components: { Toast },\r\n  setup() {\r\n    const { show, toastMessage, showToast } = useToastEffect();\r\n    const { username, password, ensurement, handleRegister } =\r\n      useRegisterEffect(showToast);\r\n    const { handleLoginClick } = useLoginEffect();\r\n    return {\r\n      username,\r\n      password,\r\n      ensurement,\r\n      show,\r\n      toastMessage,\r\n      handleRegister,\r\n      handleLoginClick,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto 0.4rem auto;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n  }\r\n  &__input {\r\n    height: 0.48rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    padding: 0 0.16rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    &__content {\r\n      margin-top: .12rem;\r\n      line-height: 0.22rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: 0.16rem;\r\n      color: $content-notice-fontcolor;\r\n      &::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    line-height: 0.48rem;\r\n    background: $btn-bgColor;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    color: $bgColor;\r\n    font-size: 0.16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=fe24e258&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=fe24e258&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web2022\\\\shengxian\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fe24e258\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRefs","__exports__","render","_createElementVNode","src","alt","_hoisted_2","_hoisted_3","placeholder","$setup","username","$event","_hoisted_4","type","autocomplete","password","_hoisted_5","ensurement","onClick","_cache","args","handleRegister","handleLoginClick","_createBlock","_component_Toast","useRegisterEffect","router","useRouter","data","async","result","post","console","log","errno","push","name","e","useLoginEffect","components","Toast","setup"],"sourceRoot":""}