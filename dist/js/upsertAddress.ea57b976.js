"use strict";(self["webpackChunkshengxian"]=self["webpackChunkshengxian"]||[]).push([[624],{8499:function(e,a,t){var s=t(65),r=t(60);const n=()=>{const e=(0,s.oR)(),a=async a=>{const t=e.state.addressList;if(a||!t.length){const a=await(0,r.U2)("/api/user/address");a?.data?.length&&e.commit("changeAddressList",a.data)}};return{getAddressList:a}};a["Z"]=n},9910:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var s=t(3396),r=t(7139),n=t(9242);const d=e=>((0,s.dD)("data-v-3a2b83ba"),e=e(),(0,s.Cn)(),e),o={class:"wrapper"},i={class:"title"},l={class:"title__text"},_={class:"form"},c={class:"form__item"},m=d((()=>(0,s._)("div",{class:"form__item__label"},"所在城市:",-1))),u={class:"form__item"},p=d((()=>(0,s._)("div",{class:"form__item__label"},"小区/大厦/学校:",-1))),f={class:"form__item"},v=d((()=>(0,s._)("div",{class:"form__item__label"},"楼号-门牌号:",-1))),h={class:"form__item"},b=d((()=>(0,s._)("div",{class:"form__item__label"},"收货人:",-1))),k={class:"form__item"},y=d((()=>(0,s._)("div",{class:"form__item__label"},"联系电话:",-1)));function D(e,a,t,d,D,w){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",i,[(0,s._)("div",{class:"iconfont title__back",onClick:a[0]||(a[0]=(...e)=>d.handleBackClick&&d.handleBackClick(...e))},""),(0,s._)("div",l,(0,r.zw)(d.addressId?"编辑收货地址":"新建收货地址"),1),(0,s._)("div",{class:"title__save",onClick:a[1]||(a[1]=(...e)=>d.upsertAddress&&d.upsertAddress(...e))},"保存")]),(0,s._)("div",_,[(0,s._)("div",c,[m,(0,s.wy)((0,s._)("input",{class:"form__item__content",placeholder:"如北京市","onUpdate:modelValue":a[2]||(a[2]=e=>d.formData.city=e)},null,512),[[n.nr,d.formData.city]])]),(0,s._)("div",u,[p,(0,s.wy)((0,s._)("input",{class:"form__item__content",placeholder:"如理工大学国防科技园","onUpdate:modelValue":a[3]||(a[3]=e=>d.formData.department=e)},null,512),[[n.nr,d.formData.department]])]),(0,s._)("div",f,[v,(0,s.wy)((0,s._)("input",{class:"form__item__content",placeholder:"A号楼B层","onUpdate:modelValue":a[4]||(a[4]=e=>d.formData.houseNumber=e)},null,512),[[n.nr,d.formData.houseNumber]])]),(0,s._)("div",h,[b,(0,s.wy)((0,s._)("input",{class:"form__item__content",placeholder:"请填写收货人的姓名","onUpdate:modelValue":a[5]||(a[5]=e=>d.formData.name=e)},null,512),[[n.nr,d.formData.name]])]),(0,s._)("div",k,[y,(0,s.wy)((0,s._)("input",{class:"form__item__content",placeholder:"请填写收货手机号","onUpdate:modelValue":a[6]||(a[6]=e=>d.formData.phone=e)},null,512),[[n.nr,d.formData.phone]])])])])}var w=t(4870),A=t(65),L=t(2483),g=t(60),C=t(8499);const U=()=>{const e=(0,A.oR)(),{addressList:a}=(0,w.BK)(e.state),{getAddressList:t}=(0,C.Z)();return t(),{addressList:a}},B=e=>{const a=(0,L.tv)(),t=(0,w.qj)({city:"",department:"",houseNumber:"",name:"",phone:""}),s=async()=>{const a=await(0,g.U2)(`/api/user/address/${e}`);if(0===a?.errno&&a?.data){const{city:e,department:s,houseNumber:r,name:n,phone:d}=a.data;t.city=e,t.department=s,t.houseNumber=r,t.name=n,t.phone=d}},r=async()=>{if(e){const s=await(0,g.r$)(`/api/user/address/${e}`,t);0===s?.errno&&a.back()}else{const e=await(0,g.v_)("/api/user/address",t);0===e?.errno&&a.back()}};return e&&s(),{formData:t,upsertAddress:r}};var N={name:"MyAddressList",setup(){const e=(0,L.tv)(),a=(0,L.yj)(),t=a?.params?.id,{addressList:s}=U(),{formData:r,upsertAddress:n}=B(t),d=()=>{e.back()};return{addressId:t,addressList:s,formData:r,handleBackClick:d,upsertAddress:n}}},V=t(89);const x=(0,V.Z)(N,[["render",D],["__scopeId","data-v-3a2b83ba"]]);var I=x}}]);
//# sourceMappingURL=upsertAddress.ea57b976.js.map